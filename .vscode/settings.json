{
    "editor.formatOnSave": true,
    "editor.codeActionsOnSave": {
        "source.fixAll.eslint": "explicit",
        "source.organizeImports": "explicit"
    },

    // Multi-root workspace support for ESLint
    "eslint.workingDirectories": [
        { "directory": "./backend", "changeProcessCWD": true },
        { "directory": "./frontend", "changeProcessCWD": true },
        { "directory": "./test", "changeProcessCWD": true }
    ],

    // Enable flat config support for ESLint extension
    "eslint.useFlatConfig": true,

    // ESLint validation
    "eslint.validate": [
        "javascript",
        "javascriptreact",
        "typescript",
        "typescriptreact"
    ],

    // TypeScript/JavaScript formatting (Backend + Frontend)
    "[typescript]": {
        "editor.defaultFormatter": "esbenp.prettier-vscode"
    },
    "[typescriptreact]": {
        "editor.defaultFormatter": "esbenp.prettier-vscode"
    },
    "[javascript]": {
        "editor.defaultFormatter": "esbenp.prettier-vscode"
    },
    "[json]": {
        "editor.defaultFormatter": "esbenp.prettier-vscode"
    },

    // Python formatting and linting (AI Service)
    "[python]": {
        "editor.formatOnSave": true,
        "editor.codeActionsOnSave": {
            "source.organizeImports": "explicit"
        },
        "editor.defaultFormatter": "ms-python.black-formatter"
    },

    // Black formatter configuration
    "black-formatter.args": [
        "--config",
        "${workspaceFolder}/ai-service/pyproject.toml"
    ],

    // Ruff linter configuration
    "ruff.lint.args": [
        "--config=${workspaceFolder}/ai-service/pyproject.toml"
    ],
    "ruff.organizeImports": true,

    // Python analysis paths
    "python.analysis.extraPaths": ["./ai-service/src"],

    // Disable default formatters that might conflict
    "javascript.format.enable": false,
    "typescript.format.enable": false
}
